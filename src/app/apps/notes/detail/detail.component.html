<!-- page title -->
<app-page-title [breadcrumbItems]="pageTitle" title="Notatka"></app-page-title>

<div class="row">
    <div class="col-xl-8 col-lg-6">
        <!-- project card -->
        <div class="card d-block">
            <div class="card-body">
                <div class="float-end" ngbDropdown>
                    <a href="javascript:void(0)" class="card-drop arrow-none" ngbDropdownToggle>
                        <i class="dripicons-dots-3"></i>
                    </a>

                    <div class="dropdown-menu-end" ngbDropdownMenu>
                        <!-- item-->
                        <a ngbDropdownItem (click)="onContentEdit()"><i class="mdi mdi-pencil me-1"></i>Edycja</a>
                        <!-- item-->
                        <a ngbDropdownItem (click)="openAlertModal(alertModal,'danger')"><i class="mdi mdi-delete me-1"></i>Usuń</a>
                        <!-- item-->
                        <a ngbDropdownItem [routerLink]="'.'"><i class="mdi mdi-email-outline me-1"></i>Invite</a>
                        <!-- item-->
                        <a ngbDropdownItem [routerLink]="'.'"><i class="mdi mdi-exit-to-app me-1"></i>Leave</a>
                    </div>
                </div>
                <!-- project title-->
                <h3 class="mb-4">
                    <quill-editor [(ngModel)]="selectedNote.title" #quillEditor [disabled]=contentEditDisable [sanitize]="true" theme="bubble">
                    </quill-editor>
                </h3>

                <div class="mb-4">
                    <quill-editor [(ngModel)]="selectedNote.content" #quillEditor [disabled]=contentEditDisable [sanitize]="true" theme="bubble">
                    </quill-editor>
                </div>

                <div class="row" *ngIf="!contentEditDisable">
                    <div class="col-md4">

                    </div>
                    <div class="col-md4">

                    </div>
                    <div class="col-md4">
                        <button type="button"
                                class="btn btn-white waves-effect waves-light" (click)="onContentSave()">
                            Zapisz
                        </button>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-4">
                        <div class="mb-4">
                            <h5>Utworzono: </h5>
                            <p><small class="text-muted">{{selectedNote.createdAt}}</small></p>
                        </div>
                    </div>
                    <div class="col-md-4">
                    </div>
                    <div class="col-md-4">
                        <div class="mb-4">
                            <h5>Ostatnia aktualizacja: </h5>
                            <p><small class="text-muted">{{selectedNote.updatedAt}}</small>
                            </p>
                        </div>
                    </div>
                </div>

                <div id="tooltips-container">
                    <h5>Uprawnieni użytkownicy:</h5>

<!--                    <a href="javascript:void(0);" *ngFor="let member of selectedProject.teamMembers"-->
<!--                        class="d-inline-block" placement="top" [ngbTooltip]="member.name">-->
<!--                        <img [src]="member.image" class="rounded-circle img-thumbnail avatar-sm" alt="friend">-->
<!--                    </a>-->
                </div>
            </div> <!-- end card-body-->
        </div> <!-- end card-->
        <!-- end card-->
    </div> <!-- end col -->

    <div class="col-lg-6 col-xl-4">

        <!-- end card-->


    </div>
</div>
<!-- end row -->

<ng-template #alertModal let-modal>
    <div class="modal-body p-4">
        <div class="text-center ">
            <i class="dripicons-warning h1 text-white"></i>
            <h4 class="mt-2 text-white">Uwaga</h4>
            <p class="mt-3">Czy aby napewno chcesz usunąć notatkę ?</p>
            <button type="button" class="btn btn-light my-2" (click)="onContentDelete(modal)">Tak</button>
            <button type="button" class="btn btn-light my-2" (click)="modal.close('Close click')">Nie</button>
        </div>
    </div>
</ng-template>