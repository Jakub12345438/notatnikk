<!-- page title -->
<app-page-title [breadcrumbItems]="pageTitle" title="Notatka"></app-page-title>

<div class="row">
    <div class="col-xl-8 col-lg-6">
        <!-- project card -->
        <div class="card d-block">
            <div class="card-body">
                <div class="float-end" ngbDropdown>
                    <a href="javascript:void(0)" class="card-drop arrow-none" ngbDropdownToggle>
                        <i class="dripicons-dots-3"></i>
                    </a>

                    <div class="dropdown-menu-end" ngbDropdownMenu>
                        <!-- item-->
                        <a ngbDropdownItem (click)="onContentEdit()"><i class="mdi mdi-pencil me-1"></i>Edycja</a>
                        <!-- item-->
                        <a ngbDropdownItem (click)="openAlertModal(alertModal,'danger')"><i class="mdi mdi-delete me-1"></i>Usuń</a>
                        <!-- item-->
                        <a ngbDropdownItem [routerLink]="'.'"><i class="mdi mdi-email-outline me-1"></i>Invite</a>
                        <!-- item-->
                        <a ngbDropdownItem [routerLink]="'.'"><i class="mdi mdi-exit-to-app me-1"></i>Leave</a>
                    </div>
                </div>
                <!-- project title-->
                <h3 class="mb-4">
                    <quill-editor [(ngModel)]="selectedNote.title" #quillEditor [disabled]=contentEditDisable [sanitize]="true" theme="bubble">
                    </quill-editor>
                </h3>

                <div class="mb-4">
                    <quill-editor [(ngModel)]="selectedNote.content" #quillEditor [disabled]=contentEditDisable [sanitize]="true" theme="bubble">
                    </quill-editor>
                </div>

                <div class="row" *ngIf="!contentEditDisable">
                    <div class="col-md4">

                    </div>
                    <div class="col-md4">

                    </div>
                    <div class="col-md4">
                        <button type="button"
                                class="btn btn-white waves-effect waves-light" (click)="onContentSave()">
                            Zapisz
                        </button>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-4">
                        <div class="mb-4">
                            <h5>Utworzono: </h5>
                            <p><small class="text-muted">{{selectedNote.createdAt}}</small></p>
                        </div>
                    </div>
                    <div class="col-md-4">
                    </div>
                    <div class="col-md-4">
                        <div class="mb-4">
                            <h5>Ostatnia aktualizacja: </h5>
                            <p>{{selectedNote.updatedAt}} <small class="text-muted">{{selectedNote.updatedAt}}</small>
                            </p>
                        </div>
                    </div>
                </div>

                <div id="tooltips-container">
                    <h5>Uprawnieni użytkownicy:</h5>

<!--                    <a href="javascript:void(0);" *ngFor="let member of selectedProject.teamMembers"-->
<!--                        class="d-inline-block" placement="top" [ngbTooltip]="member.name">-->
<!--                        <img [src]="member.image" class="rounded-circle img-thumbnail avatar-sm" alt="friend">-->
<!--                    </a>-->
                </div>

            </div> <!-- end card-body-->

        </div> <!-- end card-->

        <div class="card">
            <div class="card-body">
                <div class="float-end" ngbDropdown>
                    <a href="javascript:void(0)" class="arrow-none card-drop" ngbDrobdownToggle>
                        <i class="dripicons-dots-3"></i>
                    </a>
                    <div class="dropdown-menu-end" ngbDropdownMenu>
                        <!-- item-->
                        <a ngbDropdownItem [routerLink]="'.'">Latest</a>
                        <!-- item-->
                        <a ngbDropdownItem [routerLink]="'.'">Popular</a>
                    </div>
                </div>

<!--                <h4 class="mt-0 mb-3">Comments ({{selectedProject.totalComments}})</h4>-->

                <textarea class="form-control form-control-light mb-2" placeholder="Write message" id="example-textarea"
                    rows="3" [textContent]="selectedNote.content"></textarea>
                <div class="text-end">
                    <div class="btn-group mb-2">
                        <button type="button" class="btn btn-link btn-sm text-muted font-18"><i
                                class="dripicons-paperclip"></i></button>
                    </div>
                    <div class="btn-group mb-2 ms-2">
                        <button type="button" class="btn btn-primary btn-sm">Submit</button>
                    </div>
                </div>

                <div class="mt-2">
                    <div class="d-flex align-items-start">
                        <img class="me-2 avatar-sm rounded-circle" src="../assets/images/users/user-3.jpg"
                            alt="Generic placeholder image">
                        <div class="w-100">
                            <h5 class="mt-0"><a href="javascript:void(0)" class="text-reset">Jeremy Tomlinson</a>
                                <small class="text-muted ms-1">3 hours ago</small>
                            </h5>
                            Nice work, makes me think of The Money Pit.

                            <br />
                            <a href="javascript: void(0);" class="text-muted font-13 d-inline-block mt-2"><i
                                    class="mdi mdi-reply"></i> Reply</a>

                            <div class="d-flex align-items-start mt-3">
                                <a class="pe-2" href="javascript:void(0)">
                                    <img src="../assets/images/users/user-4.jpg" class="avatar-sm rounded-circle"
                                        alt="Generic placeholder image">
                                </a>
                                <div class="w-100">
                                    <h5 class="mt-0"><a href="javascript:void(0)" class="text-reset">Kathleen
                                            Thomas</a> <small class="text-muted ms-1">1 hours ago</small></h5>
                                    i'm in the middle of a timelapse animation myself! (Very different though.) Awesome
                                    stuff.
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="d-flex align-items-start mt-3">
                        <img class="me-2 avatar-sm rounded-circle" src="../assets/images/users/user-2.jpg"
                            alt="Generic placeholder image">
                        <div class="w-100">
                            <h5 class="mt-0"><a href="javascript:void(0)" class="text-reset">Jonathan Tiner</a>
                                <small class="text-muted ms-1">1 day ago</small>
                            </h5>
                            The parallax is a little odd but O.o that house build is awesome!!

                            <br />
                            <a href="javascript: void(0);" class="text-muted font-13 d-inline-block mt-2"><i
                                    class="mdi mdi-reply"></i> Reply</a>

                        </div>
                    </div>

                    <div class="d-flex align-items-start mt-3">
                        <a class="pe-2" href="javascript:void(0)">
                            <img src="../assets/images/users/user-1.jpg" class="rounded-circle"
                                alt="Generic placeholder image" height="31">
                        </a>
                        <div class="w-100">
                            <input type="text" id="simpleinput" class="form-control form-control-sm form-control-light"
                                placeholder="Add comment">
                        </div>
                    </div>
                </div>

                <div class="text-center mt-2">
                    <a href="javascript:void(0);" class="text-danger"><i
                            class="mdi mdi-spin mdi-loading me-1 font-16"></i> Load more </a>
                </div>
            </div> <!-- end card-body-->
        </div>
        <!-- end card-->
    </div> <!-- end col -->

    <div class="col-lg-6 col-xl-4">

        <!-- end card-->


    </div>
</div>
<!-- end row -->

<ng-template #alertModal let-modal>
    <div class="modal-body p-4">
        <div class="text-center ">
            <i class="dripicons-warning h1 text-white"></i>
            <h4 class="mt-2 text-white">Uwaga</h4>
            <p class="mt-3">Czy aby napewno chcesz usunąć notatkę ?</p>
            <button type="button" class="btn btn-light my-2" (click)="onContentDelete(modal)">Tak</button>
            <button type="button" class="btn btn-light my-2" (click)="modal.close('Close click')">Nie</button>
        </div>
    </div>
</ng-template>